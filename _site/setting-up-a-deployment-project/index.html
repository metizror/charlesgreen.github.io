<!DOCTYPE html>
<html class="no-js">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Blog of Charles Green | Setting up a Deployment Project with Capistrano &amp; Chef-Solo on AWS</title>
    <meta name="description" content="As projects grow in size and scope it got me thinking that we really should put an overall deployment process in place. Not only will this help to include de...">

    <link rel="stylesheet" href="http://www.charlesgreen.org/css/main.css">

    <link rel="canonical" href="http://www.charlesgreen.org/http://www.charlesgreen.org/setting-up-a-deployment-project">
    <link rel="alternate" type="application/rss+xml" title="Blog of Charles Green" href="http://www.charlesgreen.org/http://www.charlesgreen.org/feed.xml" />

    <!--[if lt IE 9]>
        <script src="http://www.charlesgreen.org/js/vendor/html5shiv.min.js"></script>
    <![endif]-->
</head>


  <body class="">

    <header class="hero-image" style='background-image: url(http://www.charlesgreen.org/img/feature-fire.jpg);'>
    <span class="menu-trigger animated fadeInDown">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
    </span>

    <!-- if the user has javascript disabled they can still use the menu -->
<noscript>
    <div class="no-js-menu">
        <ul>
            
                <li><i class="fa fa-home"></i><a href="http://www.charlesgreen.org/">Home</a></li>
            
                <li><i class="fa fa-user"></i><a href="http://www.charlesgreen.org/author/charles">Author</a></li>
            
        </ul>
    </div>
</noscript>
<!-- end no script -->

    <div id="menu-target">
    <ul>
        
            <li><i class="fa fa-home"></i><a href="http://www.charlesgreen.org/">Home</a></li>
        
            <li><i class="fa fa-user"></i><a href="http://www.charlesgreen.org/author/charles">Author</a></li>
        
    </ul>
</div>

</header>

<main class="container">
    <div class="row">
        <div class="col-xs-12 col-md-8 single-content-sidebar">

            <h1>Setting up a Deployment Project with Capistrano &amp; Chef-Solo on AWS</h1>

            <p>As projects grow in size and scope it got me thinking that we really should put an overall deployment process in place. Not only will this help to include deployment as part of the overall development process but also it will help to speedup the overall development process while ensuring that deployment is rock solid for even the first release.</p>

<h2 id="infrastructure-deployment">Infrastructure Deployment</h2>
<p>Coming from a development background the “Infrastructure as Code” concept really makes sense. As such we will be using Amazon’s <a href="http://aws.amazon.com/ruby/">Ruby SDK</a> and <a href="http://aws.amazon.com/cloudformation/">Cloud Formation</a> to script and automate the process of hardware and OS provisioning on <a href="http://aws.amazon.com">AWS</a>. From there we will be using <a href="http://docs.opscode.com/chef_solo.html">Chef-Solo</a> to install and setup the environments needed to support our application. Lastly, we will be using <a href="http://capistranorb.com">Capistrano</a> to deploy and version or application while bootstrapping the entire process from start to finish.</p>

<h3 id="infrastructure-provisioning-process">Infrastructure Provisioning Process:</h3>
<ol>
  <li>Start Capistrano Deployment Script on local system</li>
  <li>Capistrano will use SDK and Cloud Formation Templates to deploy new environment (EC2 Ubuntu instances, Load Balladeer, RDS PostgreSQL, etc.)</li>
  <li>Capistrano will use Chef-Solo to install and configure required applications on EC2 instances.</li>
</ol>

<h2 id="continuous-deployment">Continuous Deployment</h2>
<p>In my opinion, one of the greatest challenges being faced by organizations is the is the time, energy, and speed of releasing new features, updates, and big fixes to their production systems. One of the many reasons for this is that in many companies development changes are grouped together and manually pushed through each phase. To address this we will be using the concept of automated deployment while following many of the principles from Continuous Delivery.</p>

<h3 id="score-deployment-process">SCORE Deployment Process:</h3>
<ol>
  <li>A change is submitted as a <a href="https://help.github.com/articles/using-pull-requests">Pull Request on GitHub</a></li>
  <li>The commit is reviewed and either accepted or rejected</li>
  <li>If accepted the Pull Request will be merged and automatically submitted to <a href="http://travis-ci.org">Travis CI</a> for automated testing.</li>
  <li>If all tests are passed the updated code will be automatically pushed to Amazon S3.</li>
  <li>A deployment script will monitor the bucket and automatically launch new server instances with the update SCORE package.</li>
  <li>The deployment script will then run a set of health checks on the services.</li>
  <li>If all health checks pass the updated services will be added to the load balancer and the outdated servers will be retired.</li>
</ol>

<p><img src="http://www.charlesgreen.org//assets/images/SCORE_Deployment.png" alt="Basic Deployment Overview" /></p>

<h3 id="helpful-links">Helpful Links:</h3>
<ul>
  <li><a href="http://leopard.in.ua/2013/01/04/chef-solo-getting-started-part-1/">Getting Started with Chef-Solo</a></li>
  <li><a href="https://www.digitalocean.com/community/articles/how-to-use-capistrano-to-automate-deployments-getting-started">How To Use Capistrano to Automate Deployments: Getting Started</a></li>
</ul>

<p>Want to chat? Drop me a line at <a href="http://www.twitter.com/charles_green">@charles_green</a> and say hello.</p>


        </div><!-- main-content/col -->

        <div class="col-xs-12 col-md-3 col-md-offset-1 single-content-sidebar-area">

            <img src='http://www.charlesgreen.org/img/charles.jpg' class="user-icon " alt="user-image">
            <div class="meta">

                <div class="sidebar-info">
                    <a href="http://www.charlesgreen.org/author/charles">Charles Green</a> in <a href='http://www.charlesgreen.orgcategory/devops'>Devops</a>
                </div>

                <div class="sidebar-readtime">
                    <i class="fa fa-bookmark"></i> 3 minute read
                </div>

            </div>

            <h2 class="favorites">Similar Posts</h2>

            
                
                <div class="similar-post">
                    <a href="http://www.charlesgreen.org/2015-a-year-focused-on-growth-and-impact"><h3>A Year Focused on Growth & Impact</h3></a>
                </div>
                
            
                
                <div class="similar-post">
                    <a href="http://www.charlesgreen.org/work_life_balance_is_not_the_goal"><h3>Work Life Balance is NOT the Goal</h3></a>
                </div>
                
            
                
                <div class="similar-post">
                    <a href="http://www.charlesgreen.org/unstoppable-desire-to-do-something-great"><h3>Unstoppable Desire to do Something Great</h3></a>
                </div>
                
            
                
                <div class="similar-post">
                    <a href="http://www.charlesgreen.org/show-me-the-docs"><h3>Show Me The Docs</h3></a>
                </div>
                
            
                
                <div class="similar-post">
                    <a href="http://www.charlesgreen.org/the-entrepreneurs-dilemma"><h3>The Entrepreneur's Dilemma</h3></a>
                </div>
                
            
                
            
                
            
                
            
                
            
                
            
        </div>

    </div> <!--/row -->

</main> <!-- /container -->

<footer class="single">
    <div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-2">
            <img src="http://www.charlesgreen.org/img/charles.jpg" class="user-icon " alt="user-image">
        </div>
        <div class="col-xs-12 col-sm-6">
            <div class="category-list">
                <p>Published <span>Feb 16, 2014</span></p>
                <p><a href="/author/charles">Charles Green</a> in <a href='http://www.charlesgreen.org/category/devops'>Devops</a></p>

                <div class="other-catergories">
                    <h3>Also found in</h3>

                    <ul>
                        
                        <li>
                            <a href='http://www.charlesgreen.org/category/devops'>Devops</a>
                            
                        </li>
                        
                    </ul>
                </div>

            </div>
        </div><!-- end col -->
        <div class="col-xs-12 col-sm-4">
            <div class="social">
                <p>Share this article</a>
                <div class="social-links">
                    <a class="social-icon" href="#" data-platform="twitter" data-message="" data-url="http://www.charlesgreen.org/http://www.charlesgreen.org/setting-up-a-deployment-project"><i class="fa fa-twitter"></i></a>

                    <a class="social-icon" href="#" data-platform="facebook" data-message="" data-url="http://www.charlesgreen.org/http://www.charlesgreen.org/setting-up-a-deployment-project"><i class="fa fa-facebook-official"></i></a>
                    <a class="social-icon" data-platform="mail"  href="mailto:cg@charlesgreen.org?body=http://www.charlesgreen.org/http://www.charlesgreen.org/setting-up-a-deployment-project"><i class="fa fa-envelope"></i></a>
                </div>
            </div>
        </div>
    </div><!-- end row -->
</div>


    
        <div class="row read-another-section">
    
        
        <a href="http://www.charlesgreen.org/2015-a-year-focused-on-growth-and-impact"><div class="col-sm-6 col-md-2 no-gutter read-another-container">
            <div class="overlay"></div>
            <img src='http://www.charlesgreen.org/img/recommend-spain.jpg'>
            <h3 class="read-another">A Year Focused on Growth & Impact</h3>
        </div></a>
        
    
        
        <a href="http://www.charlesgreen.org/work_life_balance_is_not_the_goal"><div class="col-sm-6 col-md-2 no-gutter read-another-container">
            <div class="overlay"></div>
            <img src='http://www.charlesgreen.org/img/recommend-iceland.jpg'>
            <h3 class="read-another">Work Life Balance is NOT the Goal</h3>
        </div></a>
        
    
        
        <a href="http://www.charlesgreen.org/unstoppable-desire-to-do-something-great"><div class="col-sm-6 col-md-2 no-gutter read-another-container">
            <div class="overlay"></div>
            <img src='http://www.charlesgreen.org/img/recommend-laptop.jpg'>
            <h3 class="read-another">Unstoppable Desire to do Something Great</h3>
        </div></a>
        
    
        
        <a href="http://www.charlesgreen.org/show-me-the-docs"><div class="col-sm-6 col-md-2 no-gutter read-another-container">
            <div class="overlay"></div>
            <img src='http://www.charlesgreen.org/img/recommend-laptop.jpg'>
            <h3 class="read-another">Show Me The Docs</h3>
        </div></a>
        
    
        
        <a href="http://www.charlesgreen.org/the-entrepreneurs-dilemma"><div class="col-sm-6 col-md-2 no-gutter read-another-container">
            <div class="overlay"></div>
            <img src='http://www.charlesgreen.org/img/recommend-sunset.jpg'>
            <h3 class="read-another">The Entrepreneur's Dilemma</h3>
        </div></a>
        
    
        
        <a href="http://www.charlesgreen.org/chasing-the-dream"><div class="col-sm-6 col-md-2 no-gutter read-another-container">
            <div class="overlay"></div>
            <img src='http://www.charlesgreen.org/img/recommend-spain.jpg'>
            <h3 class="read-another">Chasing Dreams, Refocusing, and Pushing Forward</h3>
        </div></a>
        
    
        
    
        
    
        
    
        
    
</div>
    
</footer>


    <script src='http://www.charlesgreen.org/js/vendor/modernizr.custom.32229-2.8-respondjs-1-4-2.js'></script>
    <script src="http://www.charlesgreen.org/js/vendor/jquery-1.11.2.min.js"></script>
    <script src='http://www.charlesgreen.org/js/vendor/jquery.jpanelmenu.min.js'></script>
    <script type='application/javascript' src='http://www.charlesgreen.org/js/vendor/fastclick.min.js'></script>
    
    <script src=' http://www.charlesgreen.org/js/main.js'></script>
  </body>

</html>
